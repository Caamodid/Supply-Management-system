module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},39323,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({type:a="text",id:c,name:d,placeholder:e,value:f,defaultValue:g,onChange:h,className:i="",min:j,max:k,step:l,disabled:m=!1,success:n=!1,error:o=!1,hint:p})=>{let q="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return m?q+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":o?q+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":n?q+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":q+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:a,id:c,name:d,placeholder:e,value:f,defaultValue:g,onChange:h,min:j,max:k,step:l,disabled:m,className:`${q} ${i}`}),p&&(0,b.jsx)("p",{className:`mt-1.5 text-xs ${o?"text-error-500":n?"text-success-500":"text-gray-500"}`,children:p})]})}])},96369,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({children:a,size:c="md",variant:d="primary",startIcon:e,endIcon:f,onClick:g,className:h="",disabled:i=!1})=>(0,b.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${h} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[c]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[d]} ${i?"cursor-not-allowed opacity-50":""}`,onClick:g,disabled:i,children:[e&&(0,b.jsx)("span",{className:"flex items-center",children:e}),a,f&&(0,b.jsx)("span",{className:"flex items-center",children:f})]})])},60123,a=>{"use strict";var b=a.i(84391);a.s(["CompanyService",0,{getAll:()=>b.default.get("/SetUp/companies"),getById:a=>b.default.get(`/SetUp/get-company/${a}`),getAllBranches:()=>b.default.get("/SetUp/branches"),create:a=>b.default.post("/SetUp/create-company",a,{headers:{"Content-Type":"multipart/form-data"}}),updateCompany:(a,c)=>b.default.put(`/SetUp/edit-company/${a}`,c,{headers:{"Content-Type":"multipart/form-data"}}),delete:a=>b.default.delete(`/SetUp/delete-company/${a}`),getByIdBranch:a=>b.default.get(`/SetUp/get-branch/${a}`),createBranch:a=>b.default.post("/SetUp/create-branch",a),updateBranch:(a,c)=>b.default.put(`/SetUp/edit-branch/${a}`,c),deleteBranch:a=>b.default.delete(`/SetUp/delete-branch/${a}`),getAllCategory:()=>b.default.get("/SetUp/categories"),createCategory:a=>b.default.post("/SetUp/create-category",a),createCategoryType:a=>b.default.post("/Product/create-CategoryType",a),CreateProductAsync:a=>b.default.post("/Product/create-product",a),updateCategoryType:(a,c)=>b.default.put(`/Product/edit-CategoryType/${a}`,c),getAllCategoryTypes:()=>b.default.get("/Product/category-list"),getAllProducts:()=>b.default.get("/Product/product-list"),updateCategory:(a,c)=>b.default.put(`/SetUp/edit-category/${a}`,c),deleteCategory:a=>b.default.delete(`/SetUp/delete-category/${a}`)}])},90772,a=>{"use strict";var b=a.i(84391);a.s(["ProductService",0,{getAllStocks:()=>b.default.get("/Product/stock-list"),getproduct:()=>b.default.get("/Product/products"),CreateStockAsync:a=>b.default.post("/Product/create-ReceiveStockAsync",a),CreateStockTransfrerAsyn:a=>b.default.post("/Product/create-StockTransfer",a),CreateStockConvertAsyn:a=>b.default.post("/Product/create-convertStock",a)}])},89130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(96369),e=a.i(39323),f=a.i(39906),g=a.i(60123),h=a.i(90772),i=a.i(6704);let j={fromProductId:"",toProductId:"",branchId:"",openQuantity:0,conversionValue:0};function k({open:a,onClose:f,onSubmit:k}){let[m,n]=(0,c.useState)(j),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&Promise.all([g.CompanyService.getAllBranches(),h.ProductService.getproduct()]).then(([a,b])=>{p(a.data.data),r(b.data.data)}).catch(()=>i.default.error("Failed to load data"))},[a]);let u=(a,b)=>{n(c=>({...c,[a]:b}))},v=async()=>{(m.branchId?m.fromProductId?m.toProductId?m.fromProductId===m.toProductId?(i.default.error("Products must be different"),1):m.openQuantity<=0?(i.default.error("Open quantity must be greater than zero"),1):m.conversionValue<=0&&(i.default.error("Conversion value must be greater than zero"),1):(i.default.error("To Product is required"),1):(i.default.error("From Product is required"),1):(i.default.error("Branch is required"),1))||(t(!0),await k(m),t(!1),n(j))};return a?(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,b.jsxs)("div",{className:"w-full max-w-3xl rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,b.jsxs)("div",{className:"relative p-5 border-b dark:border-gray-800",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-center",children:"Convert Product Unit"}),(0,b.jsx)("button",{onClick:f,className:"absolute right-5 top-1/2 -translate-y-1/2 text-2xl",children:"Ã—"})]}),(0,b.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(l,{label:"Branch",required:!0,children:(0,b.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:m.branchId,onChange:a=>u("branchId",a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select branch"}),o.map(a=>(0,b.jsx)("option",{value:a.id,children:a.branchName},a.id))]})}),(0,b.jsx)(l,{label:"From Product",required:!0,children:(0,b.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:m.fromProductId,onChange:a=>u("fromProductId",a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select source product"}),q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})}),(0,b.jsx)(l,{label:"To Product",required:!0,children:(0,b.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:m.toProductId,onChange:a=>u("toProductId",a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Select target product"}),q.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})}),(0,b.jsx)(l,{label:"Open Quantity",required:!0,children:(0,b.jsx)(e.default,{type:"number",value:m.openQuantity,onChange:a=>u("openQuantity",Number(a.target.value))})}),(0,b.jsx)(l,{label:"Conversion Value",required:!0,children:(0,b.jsx)(e.default,{type:"number",value:m.conversionValue,onChange:a=>u("conversionValue",Number(a.target.value))})})]}),(0,b.jsxs)("div",{className:"p-5 border-t flex justify-end gap-3",children:[(0,b.jsx)(d.default,{variant:"outline",onClick:f,children:"Cancel"}),(0,b.jsx)(d.default,{onClick:v,disabled:s,children:s?"Converting...":"Convert"})]})]})}):null}function l({label:a,children:c,required:d,full:e}){return(0,b.jsxs)("div",{className:e?"md:col-span-2":"",children:[(0,b.jsxs)(f.default,{children:[a," ",d&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),c]})}function m({onConvert:a}){let[d,e]=(0,c.useState)(!1),f=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let a=a=>{f.current&&!f.current.contains(a.target)&&e(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,b.jsxs)("div",{ref:f,className:"relative",children:[(0,b.jsx)("button",{onClick:()=>e(a=>!a),children:"â‹®"}),d&&(0,b.jsx)("div",{className:"absolute right-0 z-50 w-36 rounded border bg-white shadow",children:(0,b.jsx)("button",{onClick:()=>{a(),e(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"ðŸ”„ Convert"})})]})}function n(){let[a,f]=(0,c.useState)([]),[g,j]=(0,c.useState)(""),[l,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1);async function q(){try{n(!0);let a=await h.ProductService.getAllStocks();f(a.data.data)}catch{i.default.error("Failed to load stocks")}finally{n(!1)}}async function r(a){try{await h.ProductService.CreateStockConvertAsyn(a),i.default.success("Product unit converted successfully"),p(!1),q()}catch{i.default.error("Conversion failed")}}(0,c.useEffect)(()=>{q()},[]);let s=a.filter(a=>a.productName.toLowerCase().includes(g.toLowerCase())||a.branchName.toLowerCase().includes(g.toLowerCase()));return(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,b.jsx)(e.default,{placeholder:"Search product or branch...",value:g,onChange:a=>j(a.target.value),className:"w-64"}),(0,b.jsx)(d.default,{onClick:()=>p(!0),children:"+ Open Products"})]}),(0,b.jsxs)("table",{className:"w-full border-collapse",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Product"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Branch"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Quantity"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Status"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left",children:"Unit"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right",children:"Action"})]})}),(0,b.jsx)("tbody",{children:l?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"py-6 text-center",children:"Loading..."})},"loading"):0===s.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"py-6 text-center text-gray-500",children:"No products found"})},"empty"):s.map(a=>(0,b.jsxs)("tr",{className:"border-t",children:[(0,b.jsx)("td",{className:"px-3 text-sm text-gray-600 dark:text-gray-400",children:a.productName}),(0,b.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:a.branchName}),(0,b.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:a.quantity}),(0,b.jsx)("td",{className:"px-3 py-2",children:a.isLowStock?(0,b.jsx)("span",{className:"text-red-600 x-3 text-sm ",children:"Low"}):(0,b.jsx)("span",{className:"text-green-600 text-sm ",children:"Normal"})}),(0,b.jsx)("td",{className:"px-3 text-sm text-gray-600 dark:text-gray-400",children:a.unit??"-"}),(0,b.jsx)("td",{className:"px-3 py-2 text-right",children:(0,b.jsx)(m,{onConvert:()=>p(!0)})})]},`${a.productId}-${a.branchName}`))})]}),(0,b.jsx)(k,{open:o,onClose:()=>p(!1),onSubmit:r})]})}a.s(["default",()=>n],89130)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__73532b8d._.js.map