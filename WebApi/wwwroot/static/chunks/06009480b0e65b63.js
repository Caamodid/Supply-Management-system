(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89504,e=>{"use strict";var r=e.i(43476);e.s(["default",0,({type:e="text",id:a,name:t,placeholder:s,value:l,defaultValue:d,onChange:n,className:i="",min:o,max:c,step:x,disabled:u=!1,success:m=!1,error:g=!1,hint:h})=>{let f="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return u?f+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":g?f+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":m?f+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":f+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:e,id:a,name:t,placeholder:s,value:l,defaultValue:d,onChange:n,min:o,max:c,step:x,disabled:u,className:`${f} ${i}`}),h&&(0,r.jsx)("p",{className:`mt-1.5 text-xs ${g?"text-error-500":m?"text-success-500":"text-gray-500"}`,children:h})]})}])},90873,e=>{"use strict";var r=e.i(43476);e.s(["default",0,({children:e,size:a="md",variant:t="primary",startIcon:s,endIcon:l,onClick:d,className:n="",disabled:i=!1})=>(0,r.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${n} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[a]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[t]} ${i?"cursor-not-allowed opacity-50":""}`,onClick:d,disabled:i,children:[s&&(0,r.jsx)("span",{className:"flex items-center",children:s}),e,l&&(0,r.jsx)("span",{className:"flex items-center",children:l})]})])},13321,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(90873),s=e.i(89504),l=e.i(23115);let d={name:"",email:"",phone:"",userName:"",gender:"",role:"",password:"",confirmPassword:""};function n({open:e,mode:l,initialData:n,onClose:o,onSubmit:c}){let[x,u]=(0,a.useState)(d),[m,g]=(0,a.useState)({}),[h,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{u("edit"===l&&n?{...n,password:"",confirmPassword:""}:d),g({})},[l,n,e]),(0,a.useEffect)(()=>{let e=e=>"Escape"===e.key&&o();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[o]);let p=(e,r)=>u(a=>({...a,[e]:r})),b=async()=>{let e;e={},x.name.trim()||(e.name="Name is required"),x.email.trim()||(e.email="Email is required"),x.role||(e.role="Role is required"),g(e),Object.keys(e).length||h||(f(!0),await c(x),f(!1))};return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"relative p-5 border-b dark:border-gray-800",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-center text-gray-900 dark:text-white",children:"add"===l?"Add User":"Edit User"}),(0,r.jsx)("button",{onClick:o,className:"absolute right-5 top-1/2 -translate-y-1/2 text-2xl text-gray-500 hover:text-gray-700",children:"Ã—"})]}),(0,r.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(i,{label:"Full Name",required:!0,error:m.name,children:(0,r.jsx)(s.default,{value:x.name,onChange:e=>p("name",e.target.value)})}),(0,r.jsx)(i,{label:"Email",required:!0,error:m.email,children:(0,r.jsx)(s.default,{type:"email",value:x.email,onChange:e=>p("email",e.target.value)})}),(0,r.jsx)(i,{label:"Phone",children:(0,r.jsx)(s.default,{value:x.phone,onChange:e=>p("phone",e.target.value)})}),(0,r.jsx)(i,{label:"Role",required:!0,error:m.role,children:(0,r.jsxs)("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",value:x.role,onChange:e=>p("role",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Select role"}),(0,r.jsx)("option",{children:"User"}),(0,r.jsx)("option",{children:"Admin"}),(0,r.jsx)("option",{children:"Manager"})]})}),(0,r.jsx)(i,{label:"Gender",children:(0,r.jsxs)("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",value:x.gender,onChange:e=>p("gender",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"Select gender"}),(0,r.jsx)("option",{children:"Male"}),(0,r.jsx)("option",{children:"Female"})]})}),(0,r.jsx)(i,{label:"Password",children:(0,r.jsx)(s.default,{type:"password",value:x.password,onChange:e=>p("password",e.target.value)})}),(0,r.jsx)(i,{label:"User Name",full:!0,children:(0,r.jsx)("textarea",{value:x.userName,onChange:e=>p("userName",e.target.value),className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",rows:3})})]}),(0,r.jsxs)("div",{className:"p-5 border-t dark:border-gray-800 flex justify-end gap-3",children:[(0,r.jsx)(t.default,{variant:"outline",onClick:o,children:"Cancel"}),(0,r.jsx)(t.default,{onClick:b,disabled:h,children:h?"Saving...":"add"===l?"Create":"Update"})]})]})}):null}function i({label:e,children:a,error:t,required:s,full:d}){return(0,r.jsxs)("div",{className:d?"md:col-span-2":"",children:[(0,r.jsxs)(l.default,{children:[e," ",s&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),a,t&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:t})]})}function o({open:e,loading:a,onClose:s,onConfirm:l}){return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,r.jsx)("div",{className:"border-b p-5 dark:border-gray-800",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Confirmation"})}),(0,r.jsx)("div",{className:"p-6 text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to delete this data? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 border-t p-5 dark:border-gray-800",children:[(0,r.jsx)(t.default,{variant:"outline",onClick:s,children:"Cancel"}),(0,r.jsx)(t.default,{variant:"primary",onClick:l,disabled:a,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:a?"Deleting...":"Delete"})]})]})}):null}var c=e.i(16973);let x=()=>c.default.get("/User/all"),u=e=>(console.log("Creating user with data:",e),c.default.post("/User/create",e)),m=e=>c.default.put("/User/edit",e),g=e=>c.default.delete(`/User/delete/${e}`);var h=e.i(5766);function f({openUp:e,onEdit:t,onDelete:s}){let[l,d]=(0,a.useState)(!1),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{function e(e){n.current&&!n.current.contains(e.target)&&d(!1)}return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,r.jsxs)("div",{ref:n,className:"relative",children:[(0,r.jsx)("button",{onClick:()=>d(e=>!e),className:"rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:"â‹®"}),l&&(0,r.jsxs)("div",{className:`absolute right-0 z-50 w-36 rounded-lg border bg-white shadow-lg
          dark:border-gray-700 dark:bg-gray-900
          ${e?"bottom-full mb-2":"top-full mt-2"}`,children:[(0,r.jsx)("button",{onClick:()=>{t(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"âœï¸ Edit"}),(0,r.jsx)("button",{onClick:()=>{s(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"ðŸ—‘ Delete"})]})]})}function p(){let[e,l]=(0,a.useState)([]),[d,i]=(0,a.useState)(""),[c,p]=(0,a.useState)(!1),[b,y]=(0,a.useState)("add"),[j,N]=(0,a.useState)(null),[v,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,U]=(0,a.useState)(!1);async function E(){U(!0);try{let e=await x();l(e.data.data)}catch{h.default.error("Failed to load users")}finally{U(!1)}}async function $(e){try{if("add"===b)await u({fullName:e.name,email:e.email,phone:e.phone,userName:e.userName,gender:e.gender,role:e.role,password:e.password}),h.default.success("User created successfully");else{if(!j?.id)return void h.default.error("User ID missing");await m({UserId:j.id,fullName:e.name,email:e.email,phone:e.phone,userName:e.userName,gender:e.gender,role:e.role}),h.default.success("User updated successfully")}p(!1),E()}catch(e){h.default.error(e?.response?.data?.message||"Operation failed")}}async function A(){if(j)try{C(!0),await g(j.id),h.default.success("User deleted successfully"),w(!1),E()}catch{h.default.error("Failed to delete user")}finally{C(!1)}}(0,a.useEffect)(()=>{E()},[]);let L=e.filter(e=>e.fullName.toLowerCase().includes(d.toLowerCase())||e.email.toLowerCase().includes(d.toLowerCase()));return(0,r.jsxs)("div",{className:"w-full rounded-xl bg-white px-6 pb-6 dark:bg-gray-900",children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Users"}),(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)(s.default,{placeholder:"Search users...",value:d,onChange:e=>i(e.target.value),className:"w-64"}),(0,r.jsx)(t.default,{size:"sm",onClick:()=>{y("add"),N(null),p(!0)},children:"+ Add User"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,r.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-300",children:[(0,r.jsx)("th",{className:"px-3 py-3",children:"User"}),(0,r.jsx)("th",{className:"px-3",children:"Email"}),(0,r.jsx)("th",{className:"px-3",children:"Phone"}),(0,r.jsx)("th",{className:"px-3",children:"Address"}),(0,r.jsx)("th",{className:"px-3",children:"Role"}),(0,r.jsx)("th",{className:"px-3",children:"Status"}),(0,r.jsx)("th",{className:"px-3 text-right",children:"Action"})]})}),(0,r.jsx)("tbody",{children:S?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"py-6 text-center text-sm",children:"Loading users..."})}):L.map((e,a)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[(0,r.jsx)("td",{className:"px-3 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-blue-100 text-sm font-semibold text-blue-700",children:e.fullName.charAt(0)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-800 dark:text-white",children:e.fullName}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.userName})]})]})}),(0,r.jsx)("td",{className:"px-3 text-sm text-gray-700 dark:text-gray-300",children:e.email}),(0,r.jsx)("td",{className:"px-3 text-sm font-mono text-gray-700 dark:text-gray-300",children:e.phone||"-"}),(0,r.jsx)("td",{className:"px-3 text-sm text-gray-600 dark:text-gray-400",children:e.address||"-"}),(0,r.jsx)("td",{className:"px-3",children:(0,r.jsx)("span",{className:`inline-flex rounded-full px-3 py-1 text-xs font-semibold
                        ${"Admin"===e.role?"bg-red-100 text-red-700":"Manager"===e.role?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:e.role})}),(0,r.jsx)("td",{className:"px-3",children:(0,r.jsxs)("span",{className:`inline-flex items-center gap-1 text-xs font-medium
                        ${e.isactive?"text-green-600":"text-red-600"}`,children:[(0,r.jsx)("span",{className:`h-2 w-2 rounded-full ${e.isactive?"bg-green-500":"bg-red-500"}`}),e.isactive?"Active":"Inactive"]})}),(0,r.jsx)("td",{className:"px-3 text-right",children:(0,r.jsx)(f,{openUp:a===L.length-1,onEdit:()=>{y("edit"),N(e),p(!0)},onDelete:()=>{N(e),w(!0)}})})]},e.id))})]})}),(0,r.jsx)(n,{open:c,mode:b,initialData:j?{name:j.fullName,email:j.email,phone:j.phone,userName:j.userName,role:j.role,gender:j.gender,password:"",confirmPassword:""}:void 0,onClose:()=>p(!1),onSubmit:$}),(0,r.jsx)(o,{open:v,loading:k,onClose:()=>w(!1),onConfirm:A})]})}e.s(["default",()=>p],13321)}]);