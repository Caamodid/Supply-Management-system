(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79161,e=>{"use strict";var t=e.i(16973);e.s(["CompanyService",0,{getAll:()=>t.default.get("/SetUp/companies"),getById:e=>t.default.get(`/SetUp/get-company/${e}`),getAllBranches:()=>t.default.get("/SetUp/branches"),create:e=>t.default.post("/SetUp/create-company",e,{headers:{"Content-Type":"multipart/form-data"}}),updateCompany:(e,r)=>t.default.put(`/SetUp/edit-company/${e}`,r,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>t.default.delete(`/SetUp/delete-company/${e}`),getByIdBranch:e=>t.default.get(`/SetUp/get-branch/${e}`),createBranch:e=>t.default.post("/SetUp/create-branch",e),updateBranch:(e,r)=>t.default.put(`/SetUp/edit-branch/${e}`,r),deleteBranch:e=>t.default.delete(`/SetUp/delete-branch/${e}`),getAllCategory:()=>t.default.get("/SetUp/categories"),createCategory:e=>t.default.post("/SetUp/create-category",e),createCategoryType:e=>t.default.post("/Product/create-CategoryType",e),CreateProductAsync:e=>t.default.post("/Product/create-product",e),updateCategoryType:(e,r)=>t.default.put(`/Product/edit-CategoryType/${e}`,r),getAllCategoryTypes:()=>t.default.get("/Product/category-list"),getAllProducts:()=>t.default.get("/Product/product-list"),updateCategory:(e,r)=>t.default.put(`/SetUp/edit-category/${e}`,r),deleteCategory:e=>t.default.delete(`/SetUp/delete-category/${e}`)}])},89504,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({type:e="text",id:r,name:a,placeholder:d,value:s,defaultValue:l,onChange:c,className:n="",min:o,max:i,step:u,disabled:x=!1,success:g=!1,error:h=!1,hint:y})=>{let p="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return x?p+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":h?p+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":g?p+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":p+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:e,id:r,name:a,placeholder:d,value:s,defaultValue:l,onChange:c,min:o,max:i,step:u,disabled:x,className:`${p} ${n}`}),y&&(0,t.jsx)("p",{className:`mt-1.5 text-xs ${h?"text-error-500":g?"text-success-500":"text-gray-500"}`,children:y})]})}])},90873,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({children:e,size:r="md",variant:a="primary",startIcon:d,endIcon:s,onClick:l,className:c="",disabled:n=!1})=>(0,t.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${c} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[r]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[a]} ${n?"cursor-not-allowed opacity-50":""}`,onClick:l,disabled:n,children:[d&&(0,t.jsx)("span",{className:"flex items-center",children:d}),e,s&&(0,t.jsx)("span",{className:"flex items-center",children:s})]})])},21067,e=>{"use strict";var t=e.i(43476),r=e.i(90873);function a({open:e,loading:a,onClose:d,onConfirm:s}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,t.jsx)("div",{className:"border-b p-5 dark:border-gray-800",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Confirmation"})}),(0,t.jsx)("div",{className:"p-6 text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to delete this data? This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 border-t p-5 dark:border-gray-800",children:[(0,t.jsx)(r.default,{variant:"outline",onClick:d,children:"Cancel"}),(0,t.jsx)(r.default,{variant:"primary",onClick:s,disabled:a,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:a?"Deleting...":"Delete"})]})]})}):null}e.s(["default",()=>a])},23067,e=>{"use strict";var t=e.i(16973);e.s(["ProductService",0,{getAllStocks:()=>t.default.get("/Product/stock-list"),getproduct:()=>t.default.get("/Product/products"),CreateStockAsync:e=>t.default.post("/Product/create-ReceiveStockAsync",e),CreateStockTransfrerAsyn:e=>t.default.post("/Product/create-StockTransfer",e),CreateStockConvertAsyn:e=>t.default.post("/Product/create-convertStock",e)}])},39461,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(90873),d=e.i(89504),s=e.i(23115),l=e.i(79161),c=e.i(23067),n=e.i(5766);let o={productId:"",branchId:"",quantity:""};function i({open:e,mode:s,initialData:i,onClose:x,onSubmit:g}){let[h,y]=(0,r.useState)(o),[p,m]=(0,r.useState)({}),[f,b]=(0,r.useState)(!1),[k,j]=(0,r.useState)([]),[v,N]=(0,r.useState)(!1),[S,w]=(0,r.useState)([]),[C,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(async()=>{try{N(!0);let e=await l.CompanyService.getAllBranches();j(e.data.data)}catch(e){console.error("Failed to load branches",e),j([])}finally{N(!1)}})()},[e]),(0,r.useEffect)(()=>{e&&(async()=>{try{I(!0);let e=await c.ProductService.getproduct();w(e.data.data)}catch(e){console.error("Failed to load products",e),w([])}finally{I(!1)}})()},[e]),(0,r.useEffect)(()=>{y("edit"===s&&i?i:o),m({})},[s,i,e]),(0,r.useEffect)(()=>{let e=e=>"Escape"===e.key&&x();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[x]);let P=(e,t)=>{y(r=>({...r,[e]:t})),m(t=>({...t,[e]:void 0}))},A=async()=>{let e;e={},h.branchId.trim()||(e.branchId="Branch is required",n.toast.error(e.branchId)),h.productId.trim()||(e.productId="Product is required",n.toast.error(e.productId)),h.quantity.trim()||(e.quantity="Quantity is required",n.toast.error(e.quantity)),m(e),0!==Object.keys(e).length||f||(b(!0),await g(h),b(!1))};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"relative p-5 border-b dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center text-gray-900 dark:text-white",children:"add"===s?"Add Branch":"Edit Branch"}),(0,t.jsx)("button",{onClick:x,className:"absolute right-5 top-1/2 -translate-y-1/2 text-2xl text-gray-500 hover:text-gray-700",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(u,{label:"Branch",required:!0,error:p.branchId,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",value:h.branchId,onChange:e=>P("branchId",e.target.value),disabled:v,children:[(0,t.jsx)("option",{value:"",children:v?"Loading branches...":"Select branch"}),k.map(e=>(0,t.jsx)("option",{value:e.id,children:e.branchName},e.id))]})}),(0,t.jsx)(u,{label:"Product",required:!0,error:p.productId,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",value:h.productId,onChange:e=>P("productId",e.target.value),disabled:C,children:[(0,t.jsx)("option",{value:"",children:C?"Loading products...":"Select product"}),S.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,t.jsx)(u,{label:"Quantity",required:!0,error:p.quantity,children:(0,t.jsx)(d.default,{value:h.quantity,onChange:e=>P("quantity",e.target.value)})})]}),(0,t.jsxs)("div",{className:"p-5 border-t dark:border-gray-800 flex justify-end gap-3",children:[(0,t.jsx)(a.default,{variant:"outline",onClick:x,children:"Cancel"}),(0,t.jsx)(a.default,{onClick:A,disabled:f,children:f?"Saving...":"add"===s?"Create":"Update"})]})]})}):null}function u({label:e,children:r,error:a,required:d,full:l}){return(0,t.jsxs)("div",{className:l?"md:col-span-2":"",children:[(0,t.jsxs)(s.default,{children:[e," ",d&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),r,a&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:a})]})}var x=e.i(21067);function g({openUp:e,onEdit:a,onDelete:d}){let[s,l]=(0,r.useState)(!1),c=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){c.current&&!c.current.contains(e.target)&&l(!1)}return s&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,t.jsxs)("div",{ref:c,className:"relative",children:[(0,t.jsx)("button",{onClick:()=>l(e=>!e),className:"rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:"â‹®"}),s&&(0,t.jsxs)("div",{className:`absolute right-0 z-50 w-36 rounded-lg border bg-white shadow-lg
          dark:border-gray-700 dark:bg-gray-900
          ${e?"bottom-full mb-2":"top-full mt-2"}`,children:[(0,t.jsx)("button",{onClick:()=>{a(),l(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"âœï¸ Edit"}),(0,t.jsx)("button",{onClick:()=>{d(),l(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"ðŸ—‘ Delete"})]})]})}function h(){let[e,s]=(0,r.useState)([]),[l,o]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[y,p]=(0,r.useState)("add"),[m,f]=(0,r.useState)(null),[b,k]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[N,S]=(0,r.useState)(!1);async function w(){S(!0);try{let e=await c.ProductService.getAllStocks();s(e.data.data)}catch(e){n.default.error("Failed to load stocks")}finally{S(!1)}}async function C(e){try{let t={productId:e.productId,branchId:e.branchId,quantity:e.quantity};if("add"===y)await c.ProductService.CreateStockAsync(t),n.default.success("Stock added successfully");else{if(!m?.id)return;n.default.success("Stock updated successfully")}h(!1),w()}catch{n.default.error("Operation failed")}}async function I(){if(m)try{v(!0),n.default.success("Stock deleted successfully"),k(!1),w()}catch{n.default.error("Failed to delete stock")}finally{v(!1)}}(0,r.useEffect)(()=>{w()},[]);let P=e.filter(e=>e.productName.toLowerCase().includes(l.toLowerCase())||e.branchName.toLowerCase().includes(l.toLowerCase()));return(0,t.jsxs)("div",{className:"w-full rounded-xl bg-white px-6 pb-6 dark:bg-gray-900",children:[(0,t.jsx)("h2",{className:"mb-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Stock"}),(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)(d.default,{placeholder:"Search stock...",value:l,onChange:e=>o(e.target.value),className:"w-64"}),(0,t.jsx)(a.default,{size:"sm",onClick:()=>{p("add"),f(null),h(!0)},children:"+ Increase Stock"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,t.jsxs)("tr",{className:"text-left text-sm",children:[(0,t.jsx)("th",{className:"px-3 py-3",children:"Product"}),(0,t.jsx)("th",{className:"px-3",children:"Branch"}),(0,t.jsx)("th",{className:"px-3",children:"Quantity"}),(0,t.jsx)("th",{className:"px-3",children:"Status"}),(0,t.jsx)("th",{className:"px-3",children:"Unit"}),(0,t.jsx)("th",{className:"px-3 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:N?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"py-6 text-center",children:"Loading stock..."})}):P.map((e,r)=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.productName}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.branchName}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.quantity}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.isLowStock?(0,t.jsx)("span",{className:"text-red-600 text-sm",children:"Low"}):(0,t.jsx)("span",{className:"text-green-600 text-sm",children:"Normal"})}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.unit}),(0,t.jsx)("td",{className:"px-3 text-right",children:(0,t.jsx)(g,{openUp:r===P.length-1,onEdit:()=>{p("edit"),f(e),h(!0)},onDelete:()=>{f(e),k(!0)}})})]},e.productId))})]})}),(0,t.jsx)(i,{open:u,mode:y,initialData:m?{productId:m.productId,branchId:"",quantity:m.quantity}:void 0,onClose:()=>h(!1),onSubmit:C}),(0,t.jsx)(x.default,{open:b,loading:j,onClose:()=>k(!1),onConfirm:I})]})}e.s(["default",()=>h],39461)}]);