(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89504,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({type:e="text",id:r,name:a,placeholder:d,value:s,defaultValue:l,onChange:c,className:o="",min:n,max:u,step:i,disabled:x=!1,success:p=!1,error:h=!1,hint:g})=>{let m="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return x?m+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":h?m+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":p?m+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":m+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:e,id:r,name:a,placeholder:d,value:s,defaultValue:l,onChange:c,min:n,max:u,step:i,disabled:x,className:`${m} ${o}`}),g&&(0,t.jsx)("p",{className:`mt-1.5 text-xs ${h?"text-error-500":p?"text-success-500":"text-gray-500"}`,children:g})]})}])},90873,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({children:e,size:r="md",variant:a="primary",startIcon:d,endIcon:s,onClick:l,className:c="",disabled:o=!1})=>(0,t.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${c} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[r]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[a]} ${o?"cursor-not-allowed opacity-50":""}`,onClick:l,disabled:o,children:[d&&(0,t.jsx)("span",{className:"flex items-center",children:d}),e,s&&(0,t.jsx)("span",{className:"flex items-center",children:s})]})])},79161,e=>{"use strict";var t=e.i(16973);e.s(["CompanyService",0,{getAll:()=>t.default.get("/SetUp/companies"),getById:e=>t.default.get(`/SetUp/get-company/${e}`),getAllBranches:()=>t.default.get("/SetUp/branches"),create:e=>t.default.post("/SetUp/create-company",e,{headers:{"Content-Type":"multipart/form-data"}}),updateCompany:(e,r)=>t.default.put(`/SetUp/edit-company/${e}`,r,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>t.default.delete(`/SetUp/delete-company/${e}`),getByIdBranch:e=>t.default.get(`/SetUp/get-branch/${e}`),createBranch:e=>t.default.post("/SetUp/create-branch",e),updateBranch:(e,r)=>t.default.put(`/SetUp/edit-branch/${e}`,r),deleteBranch:e=>t.default.delete(`/SetUp/delete-branch/${e}`),getAllCategory:()=>t.default.get("/SetUp/categories"),createCategory:e=>t.default.post("/SetUp/create-category",e),createCategoryType:e=>t.default.post("/Product/create-CategoryType",e),CreateProductAsync:e=>t.default.post("/Product/create-product",e),updateCategoryType:(e,r)=>t.default.put(`/Product/edit-CategoryType/${e}`,r),getAllCategoryTypes:()=>t.default.get("/Product/category-list"),getAllProducts:()=>t.default.get("/Product/product-list"),updateCategory:(e,r)=>t.default.put(`/SetUp/edit-category/${e}`,r),deleteCategory:e=>t.default.delete(`/SetUp/delete-category/${e}`)}])},23067,e=>{"use strict";var t=e.i(16973);e.s(["ProductService",0,{getAllStocks:()=>t.default.get("/Product/stock-list"),getproduct:()=>t.default.get("/Product/products"),CreateStockAsync:e=>t.default.post("/Product/create-ReceiveStockAsync",e),CreateStockTransfrerAsyn:e=>t.default.post("/Product/create-StockTransfer",e),CreateStockConvertAsyn:e=>t.default.post("/Product/create-convertStock",e)}])},64719,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(90873),d=e.i(89504),s=e.i(23115),l=e.i(79161),c=e.i(23067),o=e.i(5766);let n={fromProductId:"",toProductId:"",branchId:"",openQuantity:0,conversionValue:0};function u({open:e,onClose:s,onSubmit:u}){let[x,p]=(0,r.useState)(n),[h,g]=(0,r.useState)([]),[m,y]=(0,r.useState)([]),[f,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&Promise.all([l.CompanyService.getAllBranches(),c.ProductService.getproduct()]).then(([e,t])=>{g(e.data.data),y(t.data.data)}).catch(()=>o.default.error("Failed to load data"))},[e]);let j=(e,t)=>{p(r=>({...r,[e]:t}))},v=async()=>{(x.branchId?x.fromProductId?x.toProductId?x.fromProductId===x.toProductId?(o.default.error("Products must be different"),1):x.openQuantity<=0?(o.default.error("Open quantity must be greater than zero"),1):x.conversionValue<=0&&(o.default.error("Conversion value must be greater than zero"),1):(o.default.error("To Product is required"),1):(o.default.error("From Product is required"),1):(o.default.error("Branch is required"),1))||(b(!0),await u(x),b(!1),p(n))};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,t.jsxs)("div",{className:"relative p-5 border-b dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center",children:"Convert Product Unit"}),(0,t.jsx)("button",{onClick:s,className:"absolute right-5 top-1/2 -translate-y-1/2 text-2xl",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(i,{label:"Branch",required:!0,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:x.branchId,onChange:e=>j("branchId",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select branch"}),h.map(e=>(0,t.jsx)("option",{value:e.id,children:e.branchName},e.id))]})}),(0,t.jsx)(i,{label:"From Product",required:!0,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:x.fromProductId,onChange:e=>j("fromProductId",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select source product"}),m.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,t.jsx)(i,{label:"To Product",required:!0,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2",value:x.toProductId,onChange:e=>j("toProductId",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select target product"}),m.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,t.jsx)(i,{label:"Open Quantity",required:!0,children:(0,t.jsx)(d.default,{type:"number",value:x.openQuantity,onChange:e=>j("openQuantity",Number(e.target.value))})}),(0,t.jsx)(i,{label:"Conversion Value",required:!0,children:(0,t.jsx)(d.default,{type:"number",value:x.conversionValue,onChange:e=>j("conversionValue",Number(e.target.value))})})]}),(0,t.jsxs)("div",{className:"p-5 border-t flex justify-end gap-3",children:[(0,t.jsx)(a.default,{variant:"outline",onClick:s,children:"Cancel"}),(0,t.jsx)(a.default,{onClick:v,disabled:f,children:f?"Converting...":"Convert"})]})]})}):null}function i({label:e,children:r,required:a,full:d}){return(0,t.jsxs)("div",{className:d?"md:col-span-2":"",children:[(0,t.jsxs)(s.default,{children:[e," ",a&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),r]})}function x({onConvert:e}){let[a,d]=(0,r.useState)(!1),s=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.jsxs)("div",{ref:s,className:"relative",children:[(0,t.jsx)("button",{onClick:()=>d(e=>!e),children:"â‹®"}),a&&(0,t.jsx)("div",{className:"absolute right-0 z-50 w-36 rounded border bg-white shadow",children:(0,t.jsx)("button",{onClick:()=>{e(),d(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100",children:"ðŸ”„ Convert"})})]})}function p(){let[e,s]=(0,r.useState)([]),[l,n]=(0,r.useState)(""),[i,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(!1);async function m(){try{p(!0);let e=await c.ProductService.getAllStocks();s(e.data.data)}catch{o.default.error("Failed to load stocks")}finally{p(!1)}}async function y(e){try{await c.ProductService.CreateStockConvertAsyn(e),o.default.success("Product unit converted successfully"),g(!1),m()}catch{o.default.error("Conversion failed")}}(0,r.useEffect)(()=>{m()},[]);let f=e.filter(e=>e.productName.toLowerCase().includes(l.toLowerCase())||e.branchName.toLowerCase().includes(l.toLowerCase()));return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsx)(d.default,{placeholder:"Search product or branch...",value:l,onChange:e=>n(e.target.value),className:"w-64"}),(0,t.jsx)(a.default,{onClick:()=>g(!0),children:"+ Open Products"})]}),(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Product"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Branch"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Quantity"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Status"}),(0,t.jsx)("th",{className:"px-3 py-2 text-left",children:"Unit"}),(0,t.jsx)("th",{className:"px-3 py-2 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:i?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"py-6 text-center",children:"Loading..."})},"loading"):0===f.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"py-6 text-center text-gray-500",children:"No products found"})},"empty"):f.map(e=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{className:"px-3 text-sm text-gray-600 dark:text-gray-400",children:e.productName}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.branchName}),(0,t.jsx)("td",{className:"x-3 text-sm text-gray-600 dark:text-gray-400",children:e.quantity}),(0,t.jsx)("td",{className:"px-3 py-2",children:e.isLowStock?(0,t.jsx)("span",{className:"text-red-600 x-3 text-sm ",children:"Low"}):(0,t.jsx)("span",{className:"text-green-600 text-sm ",children:"Normal"})}),(0,t.jsx)("td",{className:"px-3 text-sm text-gray-600 dark:text-gray-400",children:e.unit??"-"}),(0,t.jsx)("td",{className:"px-3 py-2 text-right",children:(0,t.jsx)(x,{onConvert:()=>g(!0)})})]},`${e.productId}-${e.branchName}`))})]}),(0,t.jsx)(u,{open:h,onClose:()=>g(!1),onSubmit:y})]})}e.s(["default",()=>p],64719)}]);