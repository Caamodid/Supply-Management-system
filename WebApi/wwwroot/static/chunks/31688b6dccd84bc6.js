(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79161,e=>{"use strict";var r=e.i(16973);e.s(["CompanyService",0,{getAll:()=>r.default.get("/SetUp/companies"),getById:e=>r.default.get(`/SetUp/get-company/${e}`),getAllBranches:()=>r.default.get("/SetUp/branches"),create:e=>r.default.post("/SetUp/create-company",e,{headers:{"Content-Type":"multipart/form-data"}}),updateCompany:(e,a)=>r.default.put(`/SetUp/edit-company/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}}),delete:e=>r.default.delete(`/SetUp/delete-company/${e}`),getByIdBranch:e=>r.default.get(`/SetUp/get-branch/${e}`),createBranch:e=>r.default.post("/SetUp/create-branch",e),updateBranch:(e,a)=>r.default.put(`/SetUp/edit-branch/${e}`,a),deleteBranch:e=>r.default.delete(`/SetUp/delete-branch/${e}`),getAllCategory:()=>r.default.get("/SetUp/categories"),createCategory:e=>r.default.post("/SetUp/create-category",e),createCategoryType:e=>r.default.post("/Product/create-CategoryType",e),CreateProductAsync:e=>r.default.post("/Product/create-product",e),updateCategoryType:(e,a)=>r.default.put(`/Product/edit-CategoryType/${e}`,a),getAllCategoryTypes:()=>r.default.get("/Product/category-list"),getAllProducts:()=>r.default.get("/Product/product-list"),updateCategory:(e,a)=>r.default.put(`/SetUp/edit-category/${e}`,a),deleteCategory:e=>r.default.delete(`/SetUp/delete-category/${e}`)}])},89504,e=>{"use strict";var r=e.i(43476);e.s(["default",0,({type:e="text",id:a,name:t,placeholder:l,value:s,defaultValue:d,onChange:n,className:i="",min:o,max:c,step:u,disabled:g=!1,success:x=!1,error:h=!1,hint:m})=>{let p="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return g?p+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":h?p+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":x?p+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":p+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:e,id:a,name:t,placeholder:l,value:s,defaultValue:d,onChange:n,min:o,max:c,step:u,disabled:g,className:`${p} ${i}`}),m&&(0,r.jsx)("p",{className:`mt-1.5 text-xs ${h?"text-error-500":x?"text-success-500":"text-gray-500"}`,children:m})]})}])},90873,e=>{"use strict";var r=e.i(43476);e.s(["default",0,({children:e,size:a="md",variant:t="primary",startIcon:l,endIcon:s,onClick:d,className:n="",disabled:i=!1})=>(0,r.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${n} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[a]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[t]} ${i?"cursor-not-allowed opacity-50":""}`,onClick:d,disabled:i,children:[l&&(0,r.jsx)("span",{className:"flex items-center",children:l}),e,s&&(0,r.jsx)("span",{className:"flex items-center",children:s})]})])},21067,e=>{"use strict";var r=e.i(43476),a=e.i(90873);function t({open:e,loading:t,onClose:l,onConfirm:s}){return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,r.jsx)("div",{className:"border-b p-5 dark:border-gray-800",children:(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Confirmation"})}),(0,r.jsx)("div",{className:"p-6 text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to delete this data? This action cannot be undone."}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 border-t p-5 dark:border-gray-800",children:[(0,r.jsx)(a.default,{variant:"outline",onClick:l,children:"Cancel"}),(0,r.jsx)(a.default,{variant:"primary",onClick:s,disabled:t,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:t?"Deleting...":"Delete"})]})]})}):null}e.s(["default",()=>t])},20277,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(90873),l=e.i(89504),s=e.i(21067),d=e.i(79161),n=e.i(5766),i=e.i(23115);let o={categoryId:"",categoryTypeId:"",branchId:"",quantity:"",minStockLevel:"",name:"",description:"",unit:"",costPrice:"",wholesalePrice:"",sellPrice:""};function c({open:e,mode:s,initialData:i,onClose:c,onSubmit:g}){let[x,h]=(0,a.useState)(o),[m,p]=(0,a.useState)(!1),[y,b]=(0,a.useState)([]),[f,j]=(0,a.useState)([]),[v,N]=(0,a.useState)([]);(0,a.useEffect)(()=>{e&&Promise.all([d.CompanyService.getAllCategory(),d.CompanyService.getAllCategoryTypes(),d.CompanyService.getAllBranches()]).then(([e,r,a])=>{b(e.data.data||[]),j(r.data.data||[]),N(a.data.data||[])}).catch(()=>n.default.error("Failed to load dropdown data"))},[e]),(0,a.useEffect)(()=>{h("edit"===s&&i?i:o)},[s,i,e]);let k=(e,r)=>h(a=>({...a,[e]:r})),w=async()=>{(x.name?x.categoryId?x.categoryTypeId?!x.branchId&&(n.default.error("Branch is required"),1):(n.default.error("Category type is required"),1):(n.default.error("Category is required"),1):(n.default.error("Product name is required"),1))||m||(p(!0),await g(x),p(!1))};return e?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-200",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-4 bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-800 animate-in zoom-in-95 duration-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"add"===s?"Add New Product":"Edit Product"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"add"===s?"Fill in the details to add a new product":"Update the product information"})]})]}),(0,r.jsx)("button",{onClick:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-200",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(u,{label:"Product Name",required:!0,children:(0,r.jsx)(l.default,{value:x.name,onChange:e=>k("name",e.target.value),placeholder:"Enter product name",className:"w-full"})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(u,{label:"Quantity",children:(0,r.jsx)(l.default,{type:"number",value:x.quantity,onChange:e=>k("quantity",e.target.value),placeholder:"0",min:"0"})}),(0,r.jsx)(u,{label:"Min Stock Level",children:(0,r.jsx)(l.default,{type:"number",value:x.minStockLevel,onChange:e=>k("minStockLevel",e.target.value),placeholder:"0",min:"0"})})]}),(0,r.jsx)(u,{label:"Category",required:!0,children:(0,r.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",value:x.categoryId,onChange:e=>k("categoryId",e.target.value),children:[(0,r.jsx)("option",{value:"",className:"text-gray-400",children:"Select Category"}),y.map(e=>(0,r.jsx)("option",{value:e.id,className:"py-2",children:e.name},e.id))]})}),(0,r.jsx)(u,{label:"Category Type",required:!0,children:(0,r.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",value:x.categoryTypeId,onChange:e=>k("categoryTypeId",e.target.value),children:[(0,r.jsx)("option",{value:"",className:"text-gray-400",children:"Select Category Type"}),f.map(e=>(0,r.jsx)("option",{value:e.id,className:"py-2",children:e.name},e.id))]})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(u,{label:"Branch",required:!0,children:(0,r.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",value:x.branchId,onChange:e=>k("branchId",e.target.value),children:[(0,r.jsx)("option",{value:"",className:"text-gray-400",children:"Select Branch"}),v.map(e=>(0,r.jsx)("option",{value:e.id,className:"py-2",children:e.branchName},e.id))]})}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,r.jsx)(u,{label:"Unit",children:(0,r.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",value:x.unit,onChange:e=>k("unit",e.target.value),children:[(0,r.jsx)("option",{value:"",className:"text-gray-400",children:"Select Unit"}),(0,r.jsx)("option",{value:"kg",className:"py-2",children:"Kg"}),(0,r.jsx)("option",{value:"bag",className:"py-2",children:"Bag"}),(0,r.jsx)("option",{value:"box",className:"py-2",children:"Box"})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(u,{label:"Cost Price",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),(0,r.jsx)(l.default,{type:"number",value:x.costPrice,onChange:e=>k("costPrice",e.target.value),placeholder:"0.00",min:"0",className:"pl-8 w-full"})]})}),(0,r.jsx)(u,{label:"Wholesale Price",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),(0,r.jsx)(l.default,{type:"number",value:x.wholesalePrice,onChange:e=>k("wholesalePrice",e.target.value),placeholder:"0.00",min:"0",className:"pl-8 w-full"})]})}),(0,r.jsx)(u,{label:"Sell Price",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),(0,r.jsx)(l.default,{type:"number",value:x.sellPrice,onChange:e=>k("sellPrice",e.target.value),placeholder:"0.00",min:"0",className:"pl-8 w-full"})]})})]}),(0,r.jsx)(u,{label:"Description",children:(0,r.jsx)("textarea",{value:x.description,onChange:e=>k("description",e.target.value),placeholder:"Enter product description (optional)",rows:3,className:"w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none resize-none transition-all duration-200"})})]})]})}),(0,r.jsx)("div",{className:"p-6 border-t border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Fields marked with ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})," are required"]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(t.default,{variant:"outline",onClick:c,className:"px-6 py-2.5 border-gray-300 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200",children:"Cancel"}),(0,r.jsx)(t.default,{onClick:w,disabled:m,className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"add"===s?"Add Product":"Update Product"]})})]})]})})]})}):null}function u({label:e,children:a,required:t,className:l=""}){return(0,r.jsxs)("div",{className:`space-y-2 ${l}`,children:[(0,r.jsxs)(i.default,{className:"flex items-center gap-1 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e,t&&(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),a]})}function g({openUp:e,onEdit:t,onDelete:l}){let[s,d]=(0,a.useState)(!1),n=(0,a.useRef)(null);return(0,a.useEffect)(()=>{function e(e){n.current&&!n.current.contains(e.target)&&d(!1)}return s&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,r.jsxs)("div",{ref:n,className:"relative",children:[(0,r.jsx)("button",{onClick:()=>d(e=>!e),className:"rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:"â‹®"}),s&&(0,r.jsxs)("div",{className:`absolute right-0 z-50 w-36 rounded-lg border bg-white shadow-lg
          dark:border-gray-700 dark:bg-gray-900
          ${e?"bottom-full mb-2":"top-full mt-2"}`,children:[(0,r.jsx)("button",{onClick:()=>{t(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"âœï¸ Edit"}),(0,r.jsx)("button",{onClick:()=>{l(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"ðŸ—‘ Delete"})]})]})}function x(){let[e,i]=(0,a.useState)([]),[o,u]=(0,a.useState)(""),[x,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)("add"),[y,b]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!1);async function C(){w(!0);try{let e=await d.CompanyService.getAllProducts();i(e.data.data.items||[])}catch{n.default.error("Failed to load products"),i([])}finally{w(!1)}}async function S(e){try{if("add"===m)await d.CompanyService.CreateProductAsync?.(e),n.default.success("Product created successfully");else if(!y?.id)return void n.default.error("Product ID missing");h(!1),C()}catch{n.default.error("Operation failed")}}async function P(){if(y)try{N(!0),j(!1),C()}catch{n.default.error("Failed to delete product")}finally{N(!1)}}(0,a.useEffect)(()=>{C()},[]);let $=e.filter(e=>e.name.toLowerCase().includes(o.toLowerCase()));return(0,r.jsxs)("div",{className:"w-full rounded-xl bg-white px-6 pb-6 dark:bg-gray-900",children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Products"}),(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsx)(l.default,{placeholder:"Search products...",value:o,onChange:e=>u(e.target.value),className:"w-64"}),(0,r.jsx)(t.default,{size:"sm",onClick:()=>{p("add"),b(null),h(!0)},children:"+ Add Product"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[(0,r.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,r.jsxs)("tr",{className:"text-left text-sm text-gray-600 dark:text-gray-300",children:[(0,r.jsx)("th",{className:"px-3 py-3",children:"Name"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Category"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Type"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Unit"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Cost"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"selling"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Wholesale"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Qty"}),(0,r.jsx)("th",{className:"px-3 py-3",children:"Created At"}),(0,r.jsx)("th",{className:"px-3 py-3 text-right",children:"Action"})]})}),(0,r.jsx)("tbody",{children:k?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:7,className:"py-6 text-center text-sm",children:"Loading products..."})}):$.map((e,a)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800 transition",children:[(0,r.jsx)("td",{className:"px-3 text-sm",children:e.name}),(0,r.jsx)("td",{className:"px-3 text-sm",children:e.categoryName}),(0,r.jsx)("td",{className:"px-3 text-sm",children:e.categoryTypeName}),(0,r.jsx)("td",{className:"px-3 text-sm",children:e.unit}),(0,r.jsxs)("td",{className:"px-3 text-sm text-red-500",children:["$",e.costPrice]}),(0,r.jsxs)("td",{className:"px-3 text-green-600",children:["$",e.sellPrice]}),(0,r.jsxs)("td",{className:"px-3 text-blue-600",children:["$",e.wholesalePrice]}),(0,r.jsx)("td",{className:`px-3 text-sm font-medium ${10>parseInt(e.quantity,10)?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:e.quantity}),(0,r.jsx)("td",{className:"px-3 text-sm",children:new Date(e.createdAt).toISOString().split("T")[0]}),(0,r.jsx)("td",{className:"px-3 text-right",children:(0,r.jsx)(g,{openUp:a===$.length-1,onEdit:()=>{p("edit"),b(e),h(!0)},onDelete:()=>{b(e),j(!0)}})})]},e.id))})]})}),(0,r.jsx)(c,{open:x,mode:m,initialData:y?{name:y.name,description:y.description,categoryId:y.categoryId,categoryTypeId:y.categoryTypeId,branchId:y.branchId,quantity:y.quantity,unit:y.unit,costPrice:y.costPrice,wholesalePrice:y.wholesalePrice,minStockLevel:y.minStockLevel,sellPrice:y.sellPrice}:void 0,onClose:()=>h(!1),onSubmit:S}),(0,r.jsx)(s.default,{open:f,loading:v,onClose:()=>j(!1),onConfirm:P})]})}e.s(["default",()=>x],20277)}]);