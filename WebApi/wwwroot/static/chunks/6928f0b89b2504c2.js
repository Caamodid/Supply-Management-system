(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89504,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({type:e="text",id:r,name:s,placeholder:a,value:l,defaultValue:d,onChange:n,className:o="",min:i,max:c,step:u,disabled:m=!1,success:x=!1,error:h=!1,hint:g})=>{let p="h-11 w-full rounded-lg border px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-none focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 ";return m?p+="border-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700 ":h?p+="border-error-500 text-error-800 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500 ":x?p+="border-success-400 text-success-600 focus:ring-success-500/10 dark:text-success-400 dark:border-success-500 ":p+="border-gray-300 text-gray-800 focus:border-brand-300 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800 ",(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:e,id:r,name:s,placeholder:a,value:l,defaultValue:d,onChange:n,min:i,max:c,step:u,disabled:m,className:`${p} ${o}`}),g&&(0,t.jsx)("p",{className:`mt-1.5 text-xs ${h?"text-error-500":x?"text-success-500":"text-gray-500"}`,children:g})]})}])},90873,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({children:e,size:r="md",variant:s="primary",startIcon:a,endIcon:l,onClick:d,className:n="",disabled:o=!1})=>(0,t.jsxs)("button",{className:`inline-flex items-center justify-center font-medium gap-2 rounded-lg transition ${n} ${{sm:"px-4 py-3 text-sm",md:"px-5 py-3.5 text-sm"}[r]} ${{primary:"bg-brand-500 text-white shadow-theme-xs hover:bg-brand-600 disabled:bg-brand-300",outline:"bg-white text-gray-700 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-400 dark:ring-gray-700 dark:hover:bg-white/[0.03] dark:hover:text-gray-300"}[s]} ${o?"cursor-not-allowed opacity-50":""}`,onClick:d,disabled:o,children:[a&&(0,t.jsx)("span",{className:"flex items-center",children:a}),e,l&&(0,t.jsx)("span",{className:"flex items-center",children:l})]})])},21067,e=>{"use strict";var t=e.i(43476),r=e.i(90873);function s({open:e,loading:s,onClose:a,onConfirm:l}){return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white dark:bg-gray-900 shadow-xl",children:[(0,t.jsx)("div",{className:"border-b p-5 dark:border-gray-800",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Confirmation"})}),(0,t.jsx)("div",{className:"p-6 text-sm text-gray-600 dark:text-gray-300",children:"Are you sure you want to delete this data? This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 border-t p-5 dark:border-gray-800",children:[(0,t.jsx)(r.default,{variant:"outline",onClick:a,children:"Cancel"}),(0,t.jsx)(r.default,{variant:"primary",onClick:l,disabled:s,className:"bg-red-600 hover:bg-red-700 focus:ring-red-500",children:s?"Deleting...":"Delete"})]})]})}):null}e.s(["default",()=>s])},18984,e=>{"use strict";var t=e.i(16973);e.s(["SalesService",0,{getAllStocks:()=>t.default.get("/Product/stock-list"),getproduct:()=>t.default.get("/Product/products"),CreateStockAsync:e=>t.default.post("/Product/create-ReceiveStockAsync",e),CreateStockTransfrerAsyn:e=>t.default.post("/Product/create-StockTransfer",e),CreateCustomerAsyn:e=>t.default.post("/Customer/create-customer",e),getAllCustomers:()=>t.default.get("/Customer/customer-lists"),getSaleDetail:e=>t.default.post(`/Customer/SaleDetail/${e}`),cancelSale:e=>t.default.post("/Customer/cancel-sale",e),getAllSales:()=>t.default.post("/Customer/sales-lists"),updateCustomer:(e,r)=>t.default.put(`/Customer/edit-customer/${e}`,r),deleteCustomer:e=>t.default.delete(`/Customer/delete-customer/${e}`)}])},85192,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(90873),a=e.i(89504),l=e.i(23115),d=e.i(5766);let n={name:"",phone:"",email:"",address:"",customerType:""};function o({open:e,mode:l,initialData:o,onClose:c,onSubmit:u}){let[m,x]=(0,r.useState)(n),[h,g]=(0,r.useState)({}),[p,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{x("edit"===l&&o?o:n),g({})},[l,o,e]),(0,r.useEffect)(()=>{let e=e=>"Escape"===e.key&&c();return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[c]);let y=(e,t)=>{x(r=>({...r,[e]:t})),g(t=>({...t,[e]:void 0}))},b=async()=>{let e;e={},m.name.trim()||(e.name="Name is required",d.toast.error(e.name)),m.phone.trim()||(e.phone="Phone number is required",d.toast.error(e.phone)),m.customerType.trim()||(e.customerType="Customer type is required",d.toast.error(e.customerType)),m.email&&!/^\S+@\S+\.\S+$/.test(m.email)&&(e.email="Invalid email address",d.toast.error(e.email)),g(e),0!==Object.keys(e).length||p||(f(!0),await u(m),f(!1))};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-full max-w-3xl bg-white dark:bg-gray-900 rounded-xl shadow-xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"relative p-5 border-b dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-center",children:"add"===l?"Add Customer":"Edit Customer"}),(0,t.jsx)("button",{onClick:c,className:"absolute right-5 top-1/2 -translate-y-1/2 text-2xl",children:"Ã—"})]}),(0,t.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsx)(i,{label:"Customer Name",required:!0,error:h.name,children:(0,t.jsx)(a.default,{value:m.name,onChange:e=>y("name",e.target.value)})}),(0,t.jsx)(i,{label:"Phone",required:!0,error:h.phone,children:(0,t.jsx)(a.default,{value:m.phone,onChange:e=>y("phone",e.target.value)})}),(0,t.jsx)(i,{label:"Email",error:h.email,children:(0,t.jsx)(a.default,{type:"email",value:m.email,onChange:e=>y("email",e.target.value)})}),(0,t.jsx)(i,{label:"Customer Type",required:!0,error:h.customerType,children:(0,t.jsxs)("select",{className:"w-full rounded-md border px-3 py-2 dark:bg-gray-800",value:m.customerType,onChange:e=>y("customerType",e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select type"}),(0,t.jsx)("option",{value:"REGULAR",children:"Regular"}),(0,t.jsx)("option",{value:"VIP",children:"VIP"}),(0,t.jsx)("option",{value:"WHOLESALE",children:"Wholesale"}),(0,t.jsx)("option",{value:"CREDIT",children:"Credit"})]})}),(0,t.jsx)(i,{label:"Address",full:!0,children:(0,t.jsx)(a.default,{value:m.address,onChange:e=>y("address",e.target.value)})})]}),(0,t.jsxs)("div",{className:"p-5 border-t dark:border-gray-800 flex justify-end gap-3",children:[(0,t.jsx)(s.default,{variant:"outline",onClick:c,children:"Cancel"}),(0,t.jsx)(s.default,{onClick:b,disabled:p,children:p?"Saving...":"add"===l?"Create":"Update"})]})]})}):null}function i({label:e,children:r,error:s,required:a,full:d}){return(0,t.jsxs)("div",{className:d?"md:col-span-2":"",children:[(0,t.jsxs)(l.default,{children:[e," ",a&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),r,s&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-1",children:s})]})}var c=e.i(21067),u=e.i(18984);function m({openUp:e,onEdit:s,onDelete:a}){let[l,d]=(0,r.useState)(!1),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{function e(e){n.current&&!n.current.contains(e.target)&&d(!1)}return l&&document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,t.jsxs)("div",{ref:n,className:"relative",children:[(0,t.jsx)("button",{onClick:()=>d(e=>!e),className:"rounded-full p-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:"â‹®"}),l&&(0,t.jsxs)("div",{className:`absolute right-0 z-50 w-36 rounded-lg border bg-white shadow-lg
          dark:border-gray-700 dark:bg-gray-900
          ${e?"bottom-full mb-2":"top-full mt-2"}`,children:[(0,t.jsx)("button",{onClick:()=>{s(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm hover:bg-gray-50 dark:hover:bg-gray-800",children:"âœï¸ Edit"}),(0,t.jsx)("button",{onClick:()=>{a(),d(!1)},className:"flex w-full gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"ðŸ—‘ Delete"})]})]})}function x(){let[e,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[x,h]=(0,r.useState)(!1),[g,p]=(0,r.useState)("add"),[f,y]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1);async function w(){N(!0);try{let e=await u.SalesService.getAllCustomers();l(e.data.data)}catch{d.default.error("Failed to load customers")}finally{N(!1)}}async function S(e){try{if("add"===g)await u.SalesService.CreateCustomerAsyn(e),d.default.success("Customer created successfully");else{if(!f?.id)return;await u.SalesService.updateCustomer(f.id,e),d.default.success("Customer updated successfully")}h(!1),w()}catch{d.default.error("Operation failed")}}async function T(){if(f)try{C(!0),await u.SalesService.deleteCustomer(f.id),d.default.success("Customer deleted successfully"),j(!1),w()}catch{d.default.error("Failed to delete customer")}finally{C(!1)}}(0,r.useEffect)(()=>{w()},[]);let A=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.phone.toLowerCase().includes(n.toLowerCase()));return(0,t.jsxs)("div",{className:"w-full rounded-xl bg-white px-6 pb-6 dark:bg-gray-900",children:[(0,t.jsx)("h2",{className:"mb-4 text-xl font-semibold text-gray-800 dark:text-white",children:"Customers"}),(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,t.jsx)(a.default,{placeholder:"Search customer...",value:n,onChange:e=>i(e.target.value),className:"w-64"}),(0,t.jsx)(s.default,{size:"sm",onClick:()=>{p("add"),y(null),h(!0)},children:"+ Add Customer"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,t.jsxs)("tr",{className:"text-left text-sm",children:[(0,t.jsx)("th",{className:"px-3 py-3",children:"Name"}),(0,t.jsx)("th",{className:"px-3",children:"Phone"}),(0,t.jsx)("th",{className:"px-3",children:"Type"}),(0,t.jsx)("th",{className:"px-3",children:"Email"}),(0,t.jsx)("th",{className:"px-3",children:"Address"}),(0,t.jsx)("th",{className:"px-3 text-right",children:"Action"})]})}),(0,t.jsx)("tbody",{children:k?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"py-6 text-center",children:"Loading customers..."})}):A.map((e,r)=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50 dark:hover:bg-gray-800",children:[(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.name}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.phone}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.customerType}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.email}),(0,t.jsx)("td",{className:"px-3 py-2 text-sm",children:e.address}),(0,t.jsx)("td",{className:"px-3 text-right",children:(0,t.jsx)(m,{openUp:r===A.length-1,onEdit:()=>{p("edit"),y(e),h(!0)},onDelete:()=>{y(e),j(!0)}})})]},e.id))})]})}),(0,t.jsx)(o,{open:x,mode:g,initialData:f?{name:f.name,phone:f.phone,email:f.email??"",address:f.address??"",customerType:f.customerType}:void 0,onClose:()=>h(!1),onSubmit:S}),(0,t.jsx)(c.default,{open:b,loading:v,onClose:()=>j(!1),onConfirm:T})]})}e.s(["default",()=>x],85192)}]);